<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meus Cursos</title>
    <link rel="stylesheet" href="/css/curso_prof.css" />
    <link
      rel="shortcut icon"
      href="../../Images/favicon.ico"
      type="image/x-icon"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/simple-notify/dist/simple-notify.min.css"
    />
  </head>

  <body>
    <header>
      <nav>
        <section>
          <a href="./p-professor"><img src="/images/voltar.png" alt="" /></a>
        </section>
        <section class="txt-pag">
          <h1>Meus Cursos</h1>
        </section>
        <section class="perfil-professor">
          <h2><%= user.NOME_USU || 'Professor' %></h2>
          <a href="./p-professor"
            ><img src="/images/perfil-professor-h.png" alt=""
          /></a>
        </section>
      </nav>
    </header>

    <main>
      <section class="meuscursos">
        <section class="topic">
          <h2>NOME</h2>
          <h2>CATEGORIA</h2>
          <h2>AVALIAÇÃO</h2>
        </section>

        <% if (cursos && cursos.length > 0) { %> <%
        cursos.forEach(function(curso) { %> <% if (curso && curso.ID_CURSO &&
        curso.TITULO) { %>
        <section class="cursos">
          <p><%= curso.TITULO %></p>
          <section class="download-section">
            <span><%= curso.CATEGORIA || '-' %></span>
            <span class="avaliacao"><%= curso.AVALIACAO || '-' %></span>
            <a
              href="/dashboard/professor/p_gere_curso/<%= curso.ID_CURSO %>"
              title="Editar"
            >
              <button type="button" class="btn-editar">Editar</button>
            </a>
          </section>
        </section>
        <% } %> <% }); %> <% if (!cursos.some(function(curso) { return curso &&
        curso.ID_CURSO && curso.TITULO; })) { %>
        <section class="cursos">
          <p>Nenhum curso cadastrado.</p>
        </section>
        <% } %> <% } else { %>
        <section class="cursos">
          <p>Nenhum curso cadastrado.</p>
        </section>
        <% } %>

        <section class="vermais">
          <a href="./p_criar_curso">ADICIONAR CURSO</a>
        </section>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/simple-notify/dist/simple-notify.min.js"></script>
    <script>
      <% if (typeof success !== 'undefined' && success && success.length > 0) { %>
        new Notify({ status: 'success', title: 'Sucesso', text: '<%= success %>', position: 'left top' });
      <% } %>
    </script>
  </body>
</html>
